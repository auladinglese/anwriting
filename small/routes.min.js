var express=require("express"),router=express.Router(),request=require("request"),parseString=require("xml2js").parseString;router.get("/:searchTerm",function(e,r){var t=e.params.searchTerm;request("http://export.arxiv.org/api/query?search_query=all:"+t+"&start=0&max_results=30",function(e,t,s){if(!e){var o=s;parseString(o,function(e,t){r.json(t)})}})}),module.exports=router;var express=require("express"),router=express.Router(),request=require("request"),cheerio=require("cheerio");router.get("/:url",function(e,r){var t="http://bbc.co.uk/news/",s=e.params.url;request(t+s,function(e,t,s){if(!e){var o=cheerio.load(s),u=o(".story-body__introduction").nextAll("p").text();console.log(u),r.send({response:u})}})}),module.exports=router;var express=require("express"),router=express.Router(),request=require("request"),cheerio=require("cheerio");router.get("/",function(e,r){request("http://bbc.co.uk/news/business/",function(e,t,s){if(!e){console.log("we got a response!"),$=cheerio.load(s);var o=[];$('a[href^="/news/business-"]').each(function(){if(!($(this).text().indexOf("Video")>=0||$(this).text().indexOf("Full article")>=0)){var e=$(this).attr("href"),r=$(this).text();o.push({href:e,text:r})}}),r.send(o)}})}),module.exports=router;var express=require("express"),router=express.Router();router.get("/",function(e,r){r.render("index",{title:"Grammar Buffet"})}),module.exports=router;var express=require("express"),router=express.Router(),request=require("request"),redditResponse="";router.get("/",function(e,r){var t="";request("http://reddit.com/r/writingprompts.json",function(e,s,o){return e?void 0:(t=o,r.json(t))})}),module.exports=router;var express=require("express"),router=express.Router(),pos=require("pos"),request=require("request");router.get("/:id/:url",function(e,r){function t(e,r){var s=[];for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?s=s.concat(t(e[o],r)):o==r&&s.push(e[o]));return s}var s=e.params.id,o=e.params.url;request("http://reddit.com/r/writingprompts/comments/"+s+"/"+o+"/.json",function(e,s,o){if(!e){var u=JSON.parse(s.body),n=t(u,"body");for(i=0;i<n.length;i++)n[i].indexOf("####")>0&&(n[i]="x");var p=n.sort(function(e,r){return r.length-e.length})[0],a=[],x=(new pos.Lexer).lex(p),c=new pos.Tagger,f=c.tag(x);for(i in f){var q=f[i],h=q[0],l=q[1];"A"!==h&&"a"!==h&&"An"!==h&&"an"!==h&&"The"!==h&&"the"!==h&&a.push([h,l])}r.json({story:p,pos:a})}})}),module.exports=router;